import {expect, test} from '@playwright/test';
import {constants} from "http2";

// @ts-ignore
const {attributes, entitlements, authority} = JSON.parse(process.env.SERVER_DATA);

test('basic attributes test', async ({request}) => {
    const response = await request.get(`${attributes}/api/attributes`, {});
    expect(response.ok()).toBeTruthy();
});

test('basic entitlements test', async ({request}) => {
    const response = await request.get(`${entitlements}/api/entitlements`, {});
    expect(response.status()).toBe(constants.HTTP_STATUS_UNAUTHORIZED);
});

test('basic keycloak test', async ({request}) => {
    const response = await request.get(`${authority}`, {});
    expect(response.ok()).toBeTruthy();
});
